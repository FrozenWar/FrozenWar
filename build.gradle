apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'

buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath 'com.stehno:gradle-natives:0.2.1'
    }
}

apply plugin:'com.stehno.natives'

sourceCompatibility = 1.7
version = '0.0.1'

mainClassName = 'com.frozenwar.FrozenWar'

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'org.lwjgl.lwjgl', name: 'lwjgl', version: '2.9.1'
    testCompile group: 'junit', name: 'junit', version: '4.+'
}

jar {
    manifest {
        attributes 'Main-Class': mainClassName
    }
}

natives {
    jars = [
        'lwjgl-platform-2.9.1-natives-windows', 
        'lwjgl-platform-2.9.1-natives-osx', 
        'lwjgl-platform-2.9.1-natives-linux'
    ]
    platforms = 'linux'
}

run {
    systemProperty 'java.library.path', file( 'build/natives/linux' )
}

run.dependsOn unpackNatives